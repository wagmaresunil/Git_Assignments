<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Multiplication Calculator 2</title>
<style>
  body{margin:0;min-height:100vh;display:grid;place-items:center;background:#0f172a;color:#e5e7eb;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .card{background:#111827;border:1px solid #1f2937;border-radius:14px;box-shadow:0 12px 28px rgba(0,0,0,.45);padding:16px;width:min(640px,96vw)}
  h1{font-size:18px;color:#dbeafe;margin:0 0 12px}
  .row{display:flex;flex-wrap:wrap;gap:10px;align-items:end;margin-bottom:12px}
  label{font-size:13px;color:#9ca3af}
  input{padding:10px 12px;border-radius:10px;border:1px solid #374151;background:#0b1220;color:#f9fafb;font-weight:700}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid #2b3443;background:#1f2937;color:#f3f4f6;font-weight:800;cursor:pointer;box-shadow:inset 0 1px 0 rgba(255,255,255,.05),0 8px 16px rgba(0,0,0,.35)}
  .btn.primary{background:#2563eb;border-color:#1e40af}
  .btn.ghost{background:#2b3443}
  .btn.danger{background:#dc2626;border-color:#7f1d1d}
  .screen{display:flex;justify-content:space-between;gap:12px;background:#0b1220;border:1px solid #374151;border-radius:10px;padding:12px}
  .label{font-size:12px;color:#9ca3af}
  .val{font-size:28px;font-weight:800}
  .chips{margin-top:12px;display:flex;flex-wrap:wrap;gap:10px}
  .chip{background:#1f2937;border:1px solid #2b3443;border-radius:999px;padding:8px 12px;font-weight:800}
</style>
</head>
<body>
  <div class="card">
    <h1>Continuous Addition Calculator</h1>

    <div class="row">
      <div>
        <label for="step">Add this number each time</label><br>
        <input type="number" id="step" step="any" value="2" />
      </div>
      <button class="btn primary" id="next">Next ⏎</button>
      <button class="btn ghost" id="ten">+10 Terms</button>
      <button class="btn danger" id="reset">Reset</button>
    </div>

    <div class="screen">
      <div>
        <div class="label">Current</div>
        <div class="val" id="current">—</div>
      </div>
      <div>
        <div class="label">Step (+)</div>
        <div class="val" id="stepView">2</div>
      </div>
    </div>

    <div class="chips" id="sequence" aria-live="polite"></div>
    <div class="label" style="margin-top:6px">Tip: Enter a number (e.g., 2) and press <b>Next</b> repeatedly → <i>2, 4, 6, 8, 10, …</i></div>
  </div>

<script>
(() => {
  const stepInput = document.getElementById('step');
  const stepView = document.getElementById('stepView');
  const nextBtn = document.getElementById('next');
  const tenBtn = document.getElementById('ten');
  const resetBtn = document.getElementById('reset');
  const currentEl = document.getElementById('current');
  const seqEl = document.getElementById('sequence');

  let step = 2;          // the number to add each time
  let current = null;    // current value (null means not started)

  function pretty(n){
    if (!Number.isFinite(n)) return 'Error';
    const s = String(+n.toFixed(10));
    return s.replace(/\.0+$/,'').replace(/(\.\d*?)0+$/,'$1');
  }

  function renderStep(){
    const v = Number(stepInput.value);
    step = (Number.isFinite(v) ? v : 0);
    stepView.textContent = pretty(step);
  }

  function push(val){
    const chip = document.createElement('span');
    chip.className = 'chip';
    chip.textContent = pretty(val);
    seqEl.appendChild(chip);
    currentEl.textContent = pretty(val);
  }

  function next(){
    renderStep();
    if (!Number.isFinite(step)) return alert('Enter a valid number.');
    if (current === null){
      current = step;      // first term equals step (2 → 2)
    } else {
      current += step;     // keep adding the same step (2 → 4 → 6 …)
    }
    push(current);
  }

  function nextTen(){ for (let i=0;i<10;i++) next(); }

  function reset(){
    current = null;
    currentEl.textContent = '—';
    seqEl.innerHTML = '';
    stepInput.focus();
  }

  // Wire up
  stepInput.addEventListener('input', renderStep);
  nextBtn.addEventListener('click', next);
  tenBtn.addEventListener('click', nextTen);
  resetBtn.addEventListener('click', reset);

  // Keyboard: Enter => Next, Ctrl+Enter => +10, Esc => Reset
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && e.ctrlKey){ e.preventDefault(); nextTen(); return; }
    if (e.key === 'Enter'){ e.preventDefault(); next(); return; }
    if (e.key === 'Escape'){ reset(); return; }
  });

  // Demo: pre-populate with 2 and show first 10 terms automatically
  (function demo(){
    reset();
    stepInput.value = '2'; renderStep();
    for (let i=0;i<10;i++) next();
  })();
})();
</script>
</body>
</html>
